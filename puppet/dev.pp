# ################################################################################
# ### VARIABLES ##################################################################
# ################################################################################
$apache_path = '/var/www/html/kopya/'

# ################################################################################
# ### INIT #######################################################################
# ################################################################################

class {'abes':
  appliName => 'kopyaFront',
  env       => 'DEV',
  groupId   => 'fr.abes.kopya',
}

# ################################################################################
# ### WEB ########################################################################
# ################################################################################
node /^raiponce(\d)-dev/ {
  notify { "Deploy on RAIPONCE ${1} DEV": }

  abes::apache::htaccess { 'htaccess' :
    apachePathWeb => $apache_path,
    fileName      => 'htaccess_kopya',
  }

  abes::apache::front { 'appli vue.js' :
    apachePathWeb => $apache_path,
    artifactId    => 'front'
  }
}

# ################################################################################
node default {
  notify { "Aucun deploiement sur cette machine" : }
}

